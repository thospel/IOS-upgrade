# Check if we have a given file

[Commands IgnoreError,DefineVariable=show_result]
show file information ${caller.filesystem}:${caller.file}

[If Regex,Anchor=SubString, FromVariable=show_result]
^\s+type is\s
    [Return]
    stat = 1
[ElseIf Regex,IgnoreCase, FromVariable=show_result]
%Error opening\s.*\((?:File not found|No such file or directory|Permission denied)\)
    # Command is known but no result.
    # Permission denied seems to be the same as file not found
    [Return]
    stat = 0
[EndIf]

[Error]
Cannot parse show file information output: '${show_result}'
